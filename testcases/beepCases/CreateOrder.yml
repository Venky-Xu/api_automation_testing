config:
   name: "test"
   base_url: "https://wenjingzhang.beep.test16.shub.us"
#   base_url: "https://auth-api.test16.shub.us/"

teststeps:
-
    name: getCategory
    api: api/Beep/OnlineCategory.yml
    extract:
      - product_id: content.data.onlineCategory.0.products.3.id
    validate:
        - eq: [status_code,200]
        - eq: [$product_id,5f3de29e54a3c8000602185a]

-
    name: getCoreStores
    api: api/Beep/CoreStores.yml
    extract:
      - storeid: content.data.business.stores.1.id
    validate:
      - eq: [status_code,200]
      - eq: [$storeid,5dc0e423fe923e684bd0e308]

-
    name: getCoreBusiness
    api: api/Beep/CoreBusiness.yml
    validate:
      - eq: [status_code,200]

-
    name: getProductDetail
    api: api/Beep/ProductDetail.yml
    extract:
      - variant_id0: content.data.product.variations.0.id
      - option_id0: content.data.product.variations.0.optionValues.0.id


    validate:
      - eq: [status_code,200]
      - eq: [$variant_id0,5f3de9bc54a3c80006021ed4]
      - eq: [$option_id0,5f3de9bc54a3c80006021ed6]

-
     name: getShoppingCartItem
     api: api/Beep/ShoppingCartItem.yml
     extract:
       - shoppingCartIds: content.data.addOrUpdateShoppingCartItem.shoppingCartItem.id
     validate:
       - eq: [status_code,200]

-
    name: getAuth
    api: api/Beep/authorize.yml
    extract:
      - access_token: content.access_token
      - refresh_token: content.refresh_token
    validate:
        - eq: [status_code,200]

-
    name: getLogin
    api: api/Beep/Login.yml
    extract:
      - consumerId: content.consumerId
      - webToken: content.webToken
    validate:
       - eq: [status_code,200]


-
     name: getCustomer
     api: api/Beep/Customer.yml
     validate:
       - eq: [status_code,200]

-
     name: getCart
     api: api/Beep/Cart.yml
     extract:
       - cashback: content.totalCashback
       - total: content.total
     validate:
       - eq: [status_code,200]
       - eq: [$total,0]

-
     name: getOrder
     api: api/Beep/createOrder.yml
     extract:
       - orderId: content.data.orders.0.orderId
     validate:
       - eq: [status_code,200]
#       - eq: [$orderId,804431858827751]